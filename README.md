# Seal Hub Kit

Set of functions useful when working with the commitments generated by https://hub.sealc.red

## Available functions

### `generateInputs(signature: string, message: string, provider: Provider)`

Generates an input to create a zk proof

**PARAMETERS**

- `signature: string` - signature made by `wallet.signMessage(message)`
- `message: string` - `SealHub verification for <wallet.address>`
- `provider: Provider` - abstract Ethereum provider

**RETURNS**

```
{
  commitmentMerkleRootIndex: number
  TPreComputes: string[][][][]
  U: string[][]
  s: string[][]
  r: string[][]
}
```

**EXAMPLE**

```ts
import { Wallet, providers } from 'ethers'

const provider = new providers.InfuraProvider('goerli')
const wallet = new Wallet()
const message = `SealHub verification for ${wallet.address}`
const signature = wallet.signMessage(message)

const zkInput = generateInputs(signature, message, provider)
```

### `generateCommitment(signature: string, message: string) => string`

Create a commitment based on the message and signature

**PARAMETERS**

- `signature: string` - signature made by `wallet.signMessage(message)`
- `message: string` - `SealHub verification for <wallet.address>`

**EXAMPLE**

```ts
import { Wallet } from 'ethers'

const wallet = new Wallet()
const message = `SealHub verification for ${wallet.address}`
const signature = wallet.signMessage(message)

const commitment = generateCommitment(signature, message)
```

### `hasCommitment(commitment: string | bigint, provider: Provider) => boolean`

Checks for a commitment in the SealHub contract

**PARAMETERS**

- `commitment: string | bigint` - hash generated by `generateCommitment`
- `provider: Provider` - abstract Ethereum provider

## Available Scripts

- `yarn start` — development mode, rebuilds on changes
- `yarn build` — builds utils
- `yarn release` — create a release and publish the package
